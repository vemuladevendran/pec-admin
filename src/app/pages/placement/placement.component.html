<div class="container">
    <div class="row">
        <h2 class="m-0">Placement Details</h2>
        <hr>
        <!-- filters details -->
        <form class="row" [formGroup]="filtersForm">
            <div class="col-12 col-md-3">
                <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Department</mat-label>
                    <mat-select formControlName="departmentName">
                        <mat-option value="">All </mat-option>
                        <mat-option *ngFor="let department of departments" [value]="department.departmentName">
                            {{ department.departmentName }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-12 col-md-3">
                <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Job status</mat-label>
                    <mat-select formControlName="jobStatus">
                        <mat-option value="">All </mat-option>
                        <mat-option value="onprocess">On process </mat-option>
                        <mat-option value="offered">Offered</mat-option>
                        <mat-option value="rejected">Rejected </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </form>
        <hr>
        <div *ngIf="placementDetails.length === 0" class="text-center fw-bold">No Data Found</div>
        <div *ngIf="placementDetails.length > 0" class="table-responsive">
            <table class="table table-striped table-bordered border-dark">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Student Name</th>
                        <th scope="col">Exam Number</th>
                        <th scope="col">Department</th>
                        <th scope="col">Company Name</th>
                        <th scope="col">Attending Date</th>
                        <th scope="col">Status</th>
                        <th scope="col">Update Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let p of placementDetails; index as i">
                        <th scope="row">{{i+1}}</th>
                        <td>{{p?.studentName}}</td>
                        <td>{{p?.examNumber}}</td>
                        <td>{{p?.departmentName}}</td>
                        <td>{{p?.companyName}}</td>
                        <td>{{p?.attendingDate | date}}</td>
                        <td class="text-primary" *ngIf="p?.jobStatus === 'onprocess'">On process</td>
                        <td class="text-danger" *ngIf="p?.jobStatus === 'rejected'">Rejected</td>
                        <td class="text-success" *ngIf="p?.jobStatus === 'offered'">Offered</td>
                        <td>
                            <select name="status" [value]="p?.jobStatus" (change)="updateStatus(p?.id, $event)">
                                <option value="onprocess">On Process</option>
                                <option value="offered">Offered</option>
                                <option value="rejected">Rejected</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>